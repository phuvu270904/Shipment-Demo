# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserResDto {
  id: Int!
  idAddress: String!
  nickname: String!
  phone: String
  dob: DateTime
  role: String!
  registration_type: String!
  registration_date: DateTime!
  last_access: DateTime
  metadata: String
  fcm_token: String
  last_token_generated_at: DateTime
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type UsersListResDto {
  items: [UserResDto!]!
  total: Int!
  page: Int!
  pageSize: Int!
}

type DeleteManyResDto {
  message: String!
  count: Int!
}

type UserInfo {
  id: Int!
  nickname: String!
  idAddress: String!
}

type LoginResDto {
  user: UserInfo!
  access_token: String!
  refresh_token: String!
}

type RegisterResDto {
  user: UserInfo!
}

type RefreshTokenResDto {
  access_token: String!
}

type UserProfileResDto {
  id: Int!
  idAddress: String!
  nickname: String!
  phone: String
  dob: DateTime
  role: String!
  registration_type: String!
  registration_date: DateTime!
  last_access: DateTime!
  metadata: String
}

type Query {
  """Get all users with pagination"""
  users(page: Int! = 1, pageSize: Int! = 10): UsersListResDto!

  """Get a user by ID"""
  user(id: Int!): UserResDto!

  """Get current user profile"""
  profile: UserProfileResDto!
}

type Mutation {
  """Create a new user"""
  createUser(input: CreateUserReqDto!): UserResDto!

  """Update a user"""
  updateUser(id: Int!, input: UpdateUserReqDto!): UserResDto!

  """Delete a user"""
  removeUser(id: String!): Boolean!

  """Delete multiple users"""
  removeUsers(input: DeleteManyUsersReqDto!): DeleteManyResDto!

  """Login with id and password"""
  login(input: LoginReqDto!): LoginResDto!

  """Register a new user"""
  register(input: RegisterReqDto!): RegisterResDto!

  """Refresh access token"""
  refreshToken(input: RefreshTokenReqDto!): RefreshTokenResDto!
}

input CreateUserReqDto {
  nickname: String!
  password: String!
  idAddress: String!
  phone: String!
  dob: DateTime!
  role: String!
  registration_type: String
  metadata: String
}

input UpdateUserReqDto {
  nickname: String
  isAddress: String
  password: String
  role: String
  registration_type: String
  metadata: String
}

input DeleteManyUsersReqDto {
  ids: [Int!]!
}

input LoginReqDto {
  idAddress: String!
  password: String!
}

input RegisterReqDto {
  nickname: String!
  idAddress: String!
  password: String!
  role: String
  phone: String
  dob: DateTime
}

input RefreshTokenReqDto {
  refresh_token: String!
}