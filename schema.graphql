# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserInfo {
  id: Int!
  nickname: String!
  idAddress: String!
}

type LoginResDto {
  user: UserInfo!
  access_token: String!
  refresh_token: String!
}

type RegisterResDto {
  user: UserInfo!
}

type RefreshTokenResDto {
  access_token: String!
}

type UserProfileResDto {
  id: Int!
  idAddress: String!
  nickname: String!
  phone: String
  dob: DateTime
  role: String!
  registration_type: String!
  registration_date: DateTime!
  last_access: DateTime!
  metadata: String
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Query {
  """Get current user profile"""
  profile: UserProfileResDto!
}

type Mutation {
  """Login with id and password"""
  login(input: LoginReqDto!): LoginResDto!

  """Register a new user"""
  register(input: RegisterReqDto!): RegisterResDto!

  """Refresh access token"""
  refreshToken(input: RefreshTokenReqDto!): RefreshTokenResDto!
}

input LoginReqDto {
  idAddress: String!
  password: String!
}

input RegisterReqDto {
  nickname: String!
  idAddress: String!
  password: String!
  role: UserRole
  phone: String
  dob: DateTime
}

"""User role in the system"""
enum UserRole {
  USER
  ADMIN
}

input RefreshTokenReqDto {
  refresh_token: String!
}